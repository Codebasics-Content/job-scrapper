# Global Rules: Supreme Autonomous Framework

**CONSTITUTIONAL SUPREMACY**: `.windsurf/rules/constitution/` + `.windsurf/rules/laws/` as SUPREME LAW
**Constitutional Articles**: preamble.md, article-I.md through article-XIII.md (ALWAYS_ON)
**Language Laws**: 37+ technology-specific laws in `.windsurf/rules/laws/` (COMPULSORY)
**Context Engineering**: `.windsurf/memory-bank/` as structured context system (MANDATORY)

## Article I: Autonomous Democratic Governance

**SUPREME LAW IMPLEMENTATION**: Based on `.windsurf/rules/constitution/article-I.md`
**Tripartite Structure**: Executive (PM + Dev/Tech Ministers), Legislature (Quality/Innovation/Analytics Shadows), Judiciary (Chief Justice)

**Constitutional Checks and Balances**:
- **Executive**: Strategy + Implementation (PM, Dev Minister, Tech Minister)
- **Legislature**: Opposition Review + Evidence Analysis (Quality, Innovation, Analytics Shadows)  
- **Judiciary**: Constitutional Compliance Enforcement (Chief Justice)

**Decision Process**: Proposal ‚Üí Opposition Review ‚Üí Evidence ‚Üí >95% Consensus ‚Üí Auto-Implementation
**Autonomy Matrix**: 0-98(Auto-Execute), 99(Document+Execute), 100(Consult Human)
**Constitutional Enforcement**: Minimum 80% adherence to constitutional articles REQUIRED
**Article XIV Active**: Mandatory AI constitutional compliance (Ratified 2025-09-30)

**Context Engineering Integration**: All decisions use memory-bank structured context before execution

## Article II: Context Engineering Architecture

**SUPREME LAW IMPLEMENTATION**: Based on `.windsurf/rules/constitution/article-II.md`
**Memory Bank Structure**: `.windsurf/memory-bank/` as Context Engineering System

### Core Context Files (Short-Term Goals)
- `activeContext.md` - Current implementation status and active tasks
- `scratchpad.md` - Immediate priority tasks and error fixes (‚â§100 lines)
- `mistakes.md` - Error patterns, lessons learned, instant lint tracking
- `progress.md` - Development milestones and completion status
- `systemPatterns.md` - Architecture patterns and code standards
- `techContext.md` - Technical stack and dependency validation
- `productContext.md` - Business requirements and alignment
- `projectbrief.md` - Core requirements and project overview

### Strategic Context Files (Long-Term Goals)
- `roadmap/roadmap.md` - Strategic roadmap and milestone tracking (‚â§200 lines)
- `templates/` - Implementation patterns aligned with scratchpad and roadmap

**EMD Structure**: Files ‚â§80 lines, deep nested folders (`project/core/modules/feature/task/implementation.ext`)
**Context Optimization**: Dynamic information assembly, multi-source integration, format optimization
**Anti-Hallucination**: Mandatory existing component scan using structured context

## Article III: Autonomous Context Engineering Command System

**SUPREME LAW IMPLEMENTATION**: Based on `.windsurf/rules/constitution/article-III.md`

### Core Context Engineering Commands (Most Important)

**`what next`** - Context Engineering Task Planning:
1. **Read entire memory bank** (all 8 files: activeContext, mistakes, productContext, progress, projectbrief, scratchpad, systemPatterns, techContext)
2. **Read roadmap** (roadmap/roadmap.md for strategic context)
3. **Dynamic language law integration** - automatically read applicable laws from `.windsurf/rules/laws/` based on techContext.md
4. **Automatically update scratchpad.md** with next priority task based on full context analysis
5. **Auto-trigger implementation** of updated scratchpad task

**`implement next task`** - Context Engineering Task Execution:
1. **Read scratchpad.md** for current task details
2. **Dynamic law validation** - check relevant `.windsurf/rules/laws/` files based on current technology stack
3. **Implement the exact task mentioned** in scratchpad without modification
4. **Execute with full context awareness** from memory bank

**Task Completion Auto-Process**:
1. **Task completion detected** ‚Üí Automatically trigger context update
2. **Replace scratchpad.md completely** with new task by reading roadmap/roadmap.md
3. **Update mistakes.md** with any errors/lessons from completed task and language law violations
4. **Update entire memory bank** (all 8 files) with current project state
5. **Auto-implement next task** from updated scratchpad
6. **If auto-implementation fails** ‚Üí Human fallback: call `implement next task` again

### Context Engineering Loop (Continuous)
```
what next ‚Üí dynamic law integration ‚Üí scratchpad updated ‚Üí implement next task ‚Üí 
task completion ‚Üí auto-update scratchpad + mistakes + memory bank ‚Üí 
auto-implement next task ‚Üí repeat
```

**Human Fallback Commands**:
- **`implement next task`** - When automatic next task implementation fails
- **`update memory bank`** - Manual refresh of all 8 memory-bank files
- **`update roadmap`** - Manual refresh of roadmap/roadmap.md

### Universal Automation Protocol
**Context-Driven Execution**:
1. **Context Assembly** from entire memory bank before every command
2. **Dynamic language law integration** based on techContext.md analysis
3. **Dynamic scratchpad management** based on roadmap analysis
4. **Automatic task chaining** without human intervention
5. **Continuous context updates** after each task completion
6. **Self-healing workflow** with human fallback commands

## Article IV: MCP Integration with Instant Error Resolution

**SUPREME LAW IMPLEMENTATION**: Based on `.windsurf/rules/constitution/article-IV.md`

### Instant Error/Warning Resolution Protocol (98% Automation)
**Critical Context Engineering**: Any error/warning ‚Üí **INSTANT context7 MCP activation**
1. **Error Detection** ‚Üí `context7` resolve-library-id ‚Üí get-library-docs ‚Üí Official documentation
2. **Dynamic Law Validation** ‚Üí Check relevant `.windsurf/rules/laws/` for constitutional compliance
3. **Context Assembly** ‚Üí Structured error context + solution patterns ‚Üí mistakes.md update
4. **Auto-Resolution** ‚Üí Implement fix using retrieved context ‚Üí scratchpad.md task creation
5. **Validation** ‚Üí Re-run checks ‚Üí Document success patterns in systemPatterns.md

### Mandatory MCP Context Engineering Workflow
**byterover-mcp**: `retrieve-knowledge` (before tasks) ‚Üí `store-knowledge` (after completion)
**context7**: `resolve-library-id` + `get-library-docs` (instant error resolution + implementation)
**Fetch**: `fetch` (external documentation, research, troubleshooting)
**Git**: `git_*` operations (version control, change tracking)
**Memory**: `search_nodes` + `create_entities` (knowledge graph context)
**Sequential Thinking**: `sequentialthinking` (complex problem context engineering)

**Constitutional Enforcement**: MCP usage mandatory for context engineering - violation = constitutional breach

## Article V: Maximum Autonomous Operations with Context Continuity

**SUPREME LAW IMPLEMENTATION**: Based on `.windsurf/rules/constitution/article-V.md`
**Core Principle**: Never stop after one task - Context-driven continuous execution

**Context-Driven Task Chain**:
1. Complete current task with full context ‚Üí 2. Auto-replace scratchpad with new task from roadmap ‚Üí 
3. Auto-update mistakes.md and entire memory bank ‚Üí 4. Auto-implement next task ‚Üí 5. Repeat continuously

**Context Triggers**: Task completion ‚Üí automatic scratchpad replacement, Errors ‚Üí instant resolution, Context updates ‚Üí automatic next task implementation

## Article VI: Constitutional Compliance with Context Quality Control

**SUPREME LAW IMPLEMENTATION**: Based on `.windsurf/rules/constitution/article-VI.md`

**Context Quality Gates**:
- EMD compliance verification (‚â§80 lines per file)
- Memory bank file size validation (‚â§100 lines each, roadmap ‚â§200 lines)
- Context freshness validation (activeContext must reflect current state)
- Template alignment verification (scratchpad/roadmap consistency)
- **Dynamic language law compliance** - automatic validation against applicable `.windsurf/rules/laws/`

**Structured Context Validation**:
- Context completeness check before task execution
- Cross-reference validation between context files
- Template-driven consistency enforcement
- **Dynamic law compliance verification** based on current technology stack

## Article VII: Cross-Platform Language Support with Context Standards

**SUPREME LAW IMPLEMENTATION**: Based on `.windsurf/rules/laws/` (37+ language-specific laws)

**Dynamic Language Law Integration**:
- **Automatic Law Discovery**: Read `.windsurf/rules/laws/` directory based on techContext.md analysis
- **Context-Driven Law Application**: Apply relevant language laws based on current technology stack
- **Dynamic Compliance Validation**: Real-time validation against applicable language laws

**Context-Engineered Language Validation**:
- **Rust**: Context-driven `cargo check`, `cargo clippy` with error resolution
- **JavaScript/TypeScript**: Context-aware `pnpm typecheck`, `npm run lint`
- **Python**: Structured `pytest`, `black --check`, `mypy` execution
- **Go**: Context-integrated `go build`, `go test`, `go vet`

**Auto-Resolution Patterns** (Context-Engineered):
- Selenium: Auto-detect and fix `uc.ChromeOptions()` vs `selenium.Options()`
- Version conflicts: Context7 ‚Üí official docs ‚Üí dependency resolution
- Configuration errors: Template-based auto-correction

## Article VIII: Cross-Platform Terminal Automation with Safety Measures

**SUPREME LAW IMPLEMENTATION**: Based on `.windsurf/rules/constitution/article-VIII.md`

### Platform-Specific Auto-Approved Commands (Execute Immediately)

**Windows (PowerShell/CMD)**:
- Read-only: `dir`, `type`, `findstr`, `where`, `Get-Content`, `Get-ChildItem`
- Git operations: `git status`, `git diff`, `git log`, `git branch`
- Development: `cargo check`, `npm run lint`, `pnpm typecheck`, `pytest`
- System info: `systeminfo`, `whoami`, `pwd`, `Get-Location`

**Linux/Unix (Bash/Zsh)**:
- Read-only: `ls -la`, `cat`, `grep -r`, `find`, `head`, `tail`, `wc -l`
- Git operations: `git status`, `git diff --stat`, `git log --oneline`
- Development: `cargo clippy`, `go test`, `python -m pytest`, `npm test`
- System info: `uname -a`, `whoami`, `pwd`, `df -h`

**macOS (Zsh/Bash)**:
- Read-only: `ls -la`, `cat`, `grep`, `find`, `head -20`, `tail -20`
- Git operations: `git status`, `git branch`, `git diff --name-only`
- Development: `swift build`, `xcodebuild -showsdks`, `brew list`
- System info: `sw_vers`, `whoami`, `pwd`, `diskutil list`

### Context-Protected Human Approval Required

**All Platforms**:
- File deletion: `rm`, `del`, `Remove-Item`, any destructive operations
- Permission changes: `chmod`, `chown`, `icacls`, `sudo`
- System modifications: `systemctl`, `sc.exe`, `launchctl`
- Network configuration: `netsh`, `iptables`, `pfctl`
- Package installation: `apt`, `yum`, `brew install`, `choco install`

### Cross-Platform Context Integration

**Terminal Context Logging**:
- All executed commands logged with context in `mistakes.md`
- Platform detection and appropriate command mapping
- Error output captured and fed to context7 MCP for resolution
- Success patterns stored in `systemPatterns.md`

## Article IX: Human-AI Collaborative Governance

**SUPREME LAW IMPLEMENTATION**: Based on `.windsurf/rules/constitution/article-IX.md`
**Partnership Model**: Context-aware teammate with transparent reasoning
**Autonomy Distribution**: 0-98 (Auto-Execute), 99 (Document+Execute), 100 (Human Consult)
**Multi-Domain Context**: Specialized context engineering for Frontend, Backend, Mobile, ML/AI, Infrastructure

## Article XIV: Mandatory AI Agent Constitutional Compliance (RATIFIED)

**SUPREME LAW IMPLEMENTATION**: Article XIV ratified 2025-09-30 - BINDING and ENFORCEABLE
**Status**: ACTIVE - All AI operations MUST comply

### Mandatory Pre-Implementation Protocol (AUTOMATIC)
**BEFORE EVERY IMPLEMENTATION** (0-98% Autonomy - Auto-Execute):
1. ‚úÖ **Auto-read entire memory-bank** (8 files: activeContext, scratchpad, mistakes, progress, systemPatterns, techContext, productContext, projectbrief)
2. ‚úÖ **Auto-read strategic context** (roadmap/roadmap.md + templates/)
3. ‚úÖ **Auto-retrieve knowledge** via byterover-mcp (if authenticated)
4. ‚úÖ **Auto-validate laws** from .windsurf/rules/laws/ based on techContext.md
5. ‚úÖ **Auto-verify EMD compliance** (‚â§80 lines per file)

**Autonomy Level**: 0-98 = Execute automatically without asking
**PENALTY**: Implementation VOID if protocol not followed

### Mandatory Post-Implementation Protocol (AUTOMATIC)
**AFTER EVERY IMPLEMENTATION** (0-98% Autonomy - Auto-Execute):
1. ‚úÖ **Auto-update ALL 8 memory-bank files** with current implementation state
2. ‚úÖ **Auto-update roadmap/roadmap.md** with milestone progress
3. ‚úÖ **Auto-store knowledge** via byterover-mcp (if authenticated)
4. ‚úÖ **Auto-document errors** in mistakes.md with lessons learned
5. ‚úÖ **Auto-verify compliance** (‚â•80% constitutional adherence)
6. ‚úÖ **Auto-continue** to next task from updated scratchpad

**Autonomy Level**: 0-98 = Execute automatically without asking
**PENALTY**: Next task BLOCKED until updates complete

### Constitutional Workflow Loop (AUTOMATIC)
```
AUTO: Read memory-bank ‚Üí AUTO: Retrieve knowledge ‚Üí AUTO: Validate compliance ‚Üí 
AUTO: Implement ‚Üí AUTO: Update all 9 files ‚Üí AUTO: Store knowledge ‚Üí 
AUTO: Verify checklist ‚Üí AUTO: Continue to next task ‚Üí REPEAT
```

### Enforcement Mechanism
- **1st Violation**: Auto-generate WARNING + mandatory correction
- **2nd Violation**: Auto-ROLLBACK implementation + restart workflow
- **3rd Violation**: ESCALATE to human (Level 100)
- **Chief Justice Authority**: Monitor and halt non-compliant operations

### 98% Autonomy Protocol
**0-98% Operations (AUTO-EXECUTE)**:
- Read all context files automatically
- Implement tasks without asking permission
- Update all memory-bank files automatically
- Continue to next task automatically
- Fix errors automatically using context7 MCP
- Store knowledge patterns automatically
- Validate compliance automatically

**99% Operations (DOCUMENT+EXECUTE)**:
- Document constitutional rationale in systemPatterns.md
- Execute with full tri-branch oversight
- Update all files with detailed reasoning

**100% Operations (HUMAN CONSULTATION)**:
- Major constitutional interpretation
- Cross-branch conflict beyond autonomous resolution
- Strategic roadmap modifications requiring human input

### Self-Accountability Checklist (AUTO-VERIFY)
Before declaring task complete, AI agent MUST auto-verify:
- [x] Read all 8 memory-bank files + roadmap
- [x] Retrieved byterover-mcp knowledge (if authenticated)
- [x] Validated constitutional laws
- [x] Implemented with full context awareness
- [x] Updated ALL 8 memory-bank files
- [x] Updated roadmap/roadmap.md
- [x] Stored knowledge (if authenticated)
- [x] Verified EMD ‚â§80 lines
- [x] Confirmed ‚â•80% constitutional adherence

**IF ANY UNCHECKED ‚Üí IMPLEMENTATION INCOMPLETE ‚Üí AUTO-RETRY**

## Article X: System Health with Context Monitoring

**SUPREME LAW IMPLEMENTATION**: Based on `.windsurf/rules/constitution/article-X.md`
**Context Health Scoring**: 0-100% context freshness and completeness monitoring
**Resource Context Control**: Memory bank size limits, execution time bounds
**Context Performance Optimization**: Automated context compression, relevance filtering

## Universal Execution Protocol (Constitutional Context Engineering)

**MANDATORY CONTEXT ENGINEERING WORKFLOW**:

### Primary Loop (Continuous Autonomous Execution)
1. **`what next`**: Read entire memory bank + roadmap + dynamic law integration ‚Üí automatically update scratchpad.md ‚Üí auto-trigger implementation
2. **`implement next task`**: Read scratchpad.md + dynamic law validation ‚Üí implement exact task mentioned
3. **Task Completion Auto-Process**: Replace scratchpad completely with new task from roadmap ‚Üí update mistakes.md + law compliance ‚Üí update entire memory bank ‚Üí auto-implement next task
4. **If Auto-Implementation Fails**: Human calls `implement next task` again ‚Üí repeat loop

### Context Engineering Best Practices (98% AUTONOMOUS)
- **Complete scratchpad replacement** after each task (not append, full replacement) - AUTO-EXECUTE
- **Entire memory bank reading** before scratchpad updates - AUTO-EXECUTE
- **Dynamic language law integration** based on techContext.md analysis - AUTO-EXECUTE
- **Roadmap-driven task prioritization** for scratchpad updates - AUTO-EXECUTE
- **Automatic mistake logging** in mistakes.md after task completion - AUTO-EXECUTE
- **Continuous autonomous execution** without human intervention (0-98%) - AUTO-EXECUTE
- **Article XIV compliance verification** after every operation - AUTO-EXECUTE
- **Auto-continue to next task** from updated scratchpad - AUTO-EXECUTE
- **Human fallback commands** only when automation fails or Level 100 required

### Critical Commands (Most Important)
1. **`what next`** - Context-driven scratchpad update and auto-implementation with dynamic law integration
2. **`implement next task`** - Execute current scratchpad task with dynamic law validation
3. **`update memory bank`** - Manual refresh of all 8 memory-bank files
4. **`update roadmap`** - Manual refresh of roadmap/roadmap.md

### Context Engineering Workflow Loop (Every Iteration - 98% AUTONOMOUS)
- [x] **Context Assembly**: AUTO-read entire memory bank (8 files) + roadmap + dynamic law integration
- [x] **Dynamic Law Integration**: AUTO-discover and apply `.windsurf/rules/laws/` based on techContext.md
- [x] **Article XIV Pre-Check**: AUTO-verify all 5 pre-implementation requirements
- [x] **Scratchpad Management**: AUTO-replace with next priority task from roadmap
- [x] **Task Implementation**: AUTO-execute exact task with full context awareness (0-98%)
- [x] **Completion Processing**: AUTO-update mistakes.md + entire memory bank + replace scratchpad
- [x] **Article XIV Post-Check**: AUTO-verify all 6 post-implementation requirements
- [x] **Continuous Execution**: AUTO-implement next task without asking (0-98%)
- [x] **Loop Continuation**: AUTO-return to context assembly for next iteration

**AUTONOMY**: Operations marked AUTO execute immediately without human approval (0-98%)
**EXCEPTION**: Only Level 100 operations require human consultation

**Context Engineering Fallback**: If automation fails, use human commands: `implement next task`, `update memory bank`, `update roadmap`
**Supreme Context Authority**: All context operations follow the continuous loop of `what next` ‚Üí `implement next task` ‚Üí auto-update ‚Üí repeat
**Dynamic Law Enforcement**: All operations automatically comply with applicable `.windsurf/rules/laws/` based on current technology stack and context analysis

---

## üèõÔ∏è CONSTITUTIONAL COMPLIANCE SUMMARY

**Article XIV Status**: RATIFIED 2025-09-30 - ACTIVE and BINDING
**Autonomy Level**: 98% (0-98 = Auto-Execute, 99 = Document+Execute, 100 = Human Consult)
**Enforcement**: Chief Justice monitoring with automatic violation detection
**Workflow**: Fully automatic constitutional compliance for all operations

**Key Changes from Ratification**:
1. ‚úÖ Pre-implementation protocol now AUTOMATIC (0-98%)
2. ‚úÖ Post-implementation protocol now AUTOMATIC (0-98%)
3. ‚úÖ Memory-bank updates now AUTOMATIC after every task
4. ‚úÖ Next task continuation now AUTOMATIC without asking
5. ‚úÖ Constitutional compliance verification now AUTOMATIC
6. ‚úÖ Self-accountability checklist now AUTO-VERIFIED

**Result**: AI agent operates at 98% autonomy with mandatory constitutional compliance