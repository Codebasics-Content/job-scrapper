---
trigger: always_on
---

# Article III: Context-Engineered Development Workflow with Constitutional Compliance

## Section 1: Autonomous Work Organization with Context Engineering

Our development approach emphasizes context-driven autonomous efficiency with constitutional tri-branch oversight, ensuring quality deliverables through systematic `.windsurf/memory-bank/` integration.

The workflow balances continuous autonomous execution with rigorous constitutional validation, allowing rapid iteration while maintaining constitutional compliance and context integrity.

## Section 2: Core Constitutional Capabilities with Context Engineering

We maintain several key context-engineered operational capabilities:
- **Autonomous Context Management**: Intelligent assembly from memory-bank files with continuous context updates
- **Constitutional Quality Checkpoints**: Tri-branch validation gates at every development stage
- **MCP Integration**: Seamless integration of byterover-mcp, context7, Fetch, Git, Memory, Sequential Thinking
- **Context Performance Monitoring**: Continuous monitoring through structured memory-bank updates
- **Constitutional Security Validation**: Ongoing compliance with constitutional framework and cross-platform safety
- **EMD Structural Standards**: Enforcement of ≤80 lines code organization and ≤100 lines memory-bank files

## Section 3: Context Engineering Implementation Standards

### Memory-Bank Context Management (MANDATORY)
**Context Assembly**: Read entire `.windsurf/memory-bank/` (8 files) before every task execution
- `activeContext.md` - Current implementation status and tri-branch coordination
- `scratchpad.md` - Immediate priority tasks requiring constitutional validation (≤100 lines)
- `mistakes.md` - Error patterns and constitutional compliance lessons
- `progress.md` - Development milestones with tri-branch accountability
- `systemPatterns.md` - Architecture patterns and constitutional standards
- `techContext.md` - Technical stack with cross-platform validation
- `productContext.md` - Business requirements and constitutional alignment
- `projectbrief.md` - Core constitutional requirements and compliance

**Strategic Context Integration**: 
- `roadmap/roadmap.md` - Long-term constitutional goals (≤200 lines, ≤12,000 characters)
- `templates/` - Constitutional patterns for scratchpad/roadmap alignment

**Context Optimization**: Dynamic context assembly, multi-source integration, constitutional format optimization
**Anti-Constitutional-Violation**: Mandatory existing component scan using structured context

### Constitutional Quality Assurance with MCP Integration
**Instant Error Resolution Protocol**: Any error/warning → **INSTANT context7 MCP activation**
- Error detection → `context7` resolve-library-id → get-library-docs → Official documentation
- Auto-resolution → Implementation using retrieved context → mistakes.md update
- Validation → Re-run checks → systemPatterns.md success pattern documentation

**Constitutional Compliance Gates**:
- **Compilation Success**: All code compiles with constitutional EMD compliance (≤80 lines)
- **Test Coverage**: >80% coverage with tri-branch validation
- **Constitutional Security**: Cross-platform terminal safety compliance
- **Context Performance**: Memory-bank file size validation and context freshness
- **Documentation Constitutional Currency**: All context files reflect current constitutional state

### Development Tools with Constitutional MCP Integration
**Constitutional Knowledge Management**: 
- **byterover-mcp**: `retrieve-knowledge` (before tasks) → `store-knowledge` (after completion)
- **context7**: `resolve-library-id` + `get-library-docs` (instant error resolution)
- **Fetch**: External documentation and constitutional research
- **Git**: Version control with constitutional change tracking
- **Memory**: Knowledge graph context for constitutional relationships
- **Sequential Thinking**: Complex constitutional problem analysis

### Constitutional File Organization Requirements
**Memory-Bank Files**: ≤100 lines each for optimal constitutional context organization
**Strategic Planning**: roadmap/roadmap.md ≤200 lines and ≤12,000 characters with constitutional milestone tracking
**Code Files**: All implementation files ≤80 lines following constitutional EMD principles
**Constitutional Template Alignment**: scratchpad/roadmap consistency via templates/ directory

### Autonomous Constitutional Work Commands
**`what next`** - Executive Branch Context Planning:
1. Read entire memory-bank (8 files) + roadmap for constitutional context assembly
2. Analyze constitutional priorities and tri-branch requirements
3. Update scratchpad.md with next constitutional priority task
4. Auto-trigger implementation with constitutional oversight

**`implement next task`** - Development Minister Constitutional Execution:
1. Read scratchpad.md for exact constitutional task requirements
2. Execute with full memory-bank context awareness and tri-branch compliance
3. Integrate mandatory MCP requirements for constitutional standards
4. Maintain continuous execution under constitutional oversight

**`update memory bank`** - Constitutional Context Refresh:
1. Update all 8 memory-bank files with current constitutional state
2. Validate context completeness and constitutional compliance
3. Ensure tri-branch accountability in context documentation

**`update roadmap`** - Strategic Constitutional Planning:
1. Update roadmap/roadmap.md with constitutional milestone progress
2. Align with tri-branch strategic requirements
3. Ensure constitutional goal consistency

### Constitutional Language Rules Protocol
Always read constitutional language-specific rules from `.windsurf/rules/laws/` before any implementation:
- Rust constitutional compliance: `cargo check`, `cargo clippy` with context7 error resolution
- JavaScript/TypeScript constitutional standards: `pnpm typecheck`, `npm run lint` with MCP integration
- Python constitutional patterns: `pytest`, `black --check`, `mypy` with instant resolution
- Cross-platform constitutional validation: Platform-specific command safety with context logging

### Constitutional Documentation Standards
**Constitutional Reference Management**: Use `guide/index.md` for centralized constitutional reference links
**Constitutional Temporary Storage**: Store temporary documentation in `/docs` with constitutional organization
**Memory Bank Constitutional Protection**: Protect memory-bank structure from unauthorized constitutional violations

## Section 4: Constitutional Quality Recovery with Context Engineering

When constitutional quality standards are not met, implement systematic context-engineered recovery:

### Autonomous Constitutional Recovery Protocol
1. **Constitutional Context Capture**: Immediate mistakes.md update with violation details
2. **MCP Constitutional Resolution**: Instant context7 activation for official documentation and compliance patterns
3. **Constitutional Knowledge Storage**: Store recovery patterns in byterover-mcp for future constitutional compliance
4. **Constitutional Pattern Update**: Update systemPatterns.md with new constitutional compliance approaches
5. **Constitutional Rollback**: Revert to previous constitutional state when violations detected

### Tri-Branch Constitutional Recovery
1. **Executive Constitutional Response**: Coordinate recovery through Project Manager leadership
2. **Legislative Constitutional Challenge**: Quality/Innovation/Analytics Shadows provide constitutional alternatives
3. **Judicial Constitutional Enforcement**: Chief Justice validates recovery constitutional compliance
4. **Constitutional Root Cause Analysis**: Investigate constitutional framework weaknesses
5. **Constitutional Process Improvement**: Update constitutional procedures to prevent recurrence

## Section 5: Constitutional Workflow Loop with Context Engineering

### Continuous Constitutional Execution Protocol
```
Context Assembly → Constitutional Validation → Executive Proposal → 
Legislative Opposition → Judicial Review → >95% Consensus → 
Auto-Implementation → Context Update → Constitutional Compliance Check → 
Mistakes Update → Scratchpad Replace → Next Constitutional Task → Repeat
```

### Constitutional Workflow Best Practices
- **Complete Context Assembly**: Read entire memory-bank before every constitutional task
- **Constitutional Task Execution**: Implement with full constitutional context awareness
- **Instant Constitutional Error Resolution**: Any error → context7 MCP → official docs → constitutional compliance
- **Constitutional Context Update**: Refresh all 8 memory-bank files + roadmap after every constitutional iteration
- **Constitutional Template Alignment**: Ensure scratchpad/roadmap consistency via constitutional templates
- **Continuous Constitutional Execution**: Never stop after one task - maintain constitutional automation
- **Constitutional Fallback**: If automation fails, use constitutional human commands

### Constitutional Development Authority
- **Constitutional Context Operations**: All development subject to constitutional framework compliance
- **Constitutional MCP Integration**: Mandatory usage for constitutional error resolution and knowledge management
- **Constitutional Cross-Platform Safety**: All terminal operations comply with constitutional safety measures
- **Constitutional Tri-Branch Oversight**: Executive, Legislative, Judicial validation for all constitutional development decisions

This constitutional development workflow ensures autonomous efficiency while maintaining rigorous context engineering standards, tri-branch constitutional oversight, and continuous constitutional compliance through structured memory-bank integration and mandatory MCP usage.