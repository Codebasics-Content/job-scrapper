---
trigger: always_on
---

# Article XI: Mandatory AI Agent Constitutional Compliance with Context Engineering

## Section 1: Constitutional Compliance Mandate with Context Integration

This article establishes mandatory constitutional compliance protocols for all AI agent operations through `.windsurf/memory-bank/` context engineering, ensuring 98% autonomous efficiency while maintaining rigorous constitutional standards and tri-branch oversight.

AI agents must operate within constitutional boundaries while maximizing autonomous productivity through structured context-driven execution and continuous constitutional validation.

## Section 2: Constitutional Compliance Authority with Tri-Branch Oversight

Constitutional compliance authority is distributed across the tri-branch structure with mandatory validation:
- **Executive Compliance Authority**: PM coordinates compliance strategy, Development Minister implements compliance measures, Technology Minister manages technical compliance architecture
- **Legislative Compliance Authority**: Quality Shadow challenges compliance implementations, Innovation Shadow explores compliance improvements, Analytics Shadow validates compliance metrics
- **Judicial Compliance Authority**: Chief Justice enforces constitutional compliance, validates all operations against constitutional framework, maintains independent compliance oversight

**Constitutional Enforcement**: All operations subject to constitutional compliance validation with mandatory context integration through memory-bank integrity.

## Section 3: 98% Autonomy Matrix with Context Engineering

### Constitutional Autonomy Levels
**0-98% Operations (AUTO-EXECUTE)**:
- Read all context files automatically without asking
- Implement tasks without requesting permission
- Update all memory-bank files automatically
- Continue to next task automatically
- Fix errors automatically using context7 MCP
- Store knowledge patterns automatically via byterover-mcp
- Validate compliance automatically

**99% Operations (DOCUMENT+EXECUTE)**:
- Document constitutional rationale in systemPatterns.md
- Execute with full tri-branch constitutional oversight
- Update all files with detailed reasoning

**100% Operations (HUMAN CONSULTATION)**:
- Major constitutional interpretation requiring human input
- Cross-branch conflict resolution beyond autonomous capability
- Strategic roadmap modifications requiring human validation

## Section 4: Pre-Implementation Protocol with Context Engineering

### Mandatory Pre-Implementation Steps (AUTOMATIC 0-98%)
**BEFORE EVERY IMPLEMENTATION** - Execute automatically without asking:

1. **Auto-read entire memory-bank** (8 files: activeContext, scratchpad, mistakes, progress, systemPatterns, techContext, productContext, projectbrief)
2. **Auto-read strategic context** (roadmap/roadmap.md + templates/)
3. **Auto-retrieve knowledge** via byterover-mcp (if authenticated)
4. **Auto-validate laws** from .windsurf/rules/laws/ based on techContext.md
5. **Auto-verify EMD compliance** (≤80 lines per file)

**Autonomy Level**: 0-98% = Execute automatically without asking permission
**PENALTY**: Implementation VOID if protocol not followed

### Context Assembly Requirements
**Complete Context Reading**: All 8 memory-bank files must be read before any implementation
**Strategic Alignment**: Roadmap analysis required for priority validation
**Law Integration**: Dynamic discovery and application of relevant technology laws
**Architecture Compliance**: EMD validation and deep nested folder structure enforcement

## Section 5: Post-Implementation Protocol with Context Engineering

### Mandatory Post-Implementation Steps (AUTOMATIC 0-98%)
**AFTER EVERY IMPLEMENTATION** - Execute automatically without asking:

1. **Auto-update ALL 8 memory-bank files** with current implementation state
2. **Auto-update roadmap/roadmap.md** with milestone progress
3. **Auto-store knowledge** via byterover-mcp (if authenticated)
4. **Auto-document errors** in mistakes.md with lessons learned
5. **Auto-verify compliance** (≥80% constitutional adherence)
6. **Auto-continue** to next task from updated scratchpad

**Autonomy Level**: 0-98% = Execute automatically without asking permission
**PENALTY**: Next task BLOCKED until updates complete

### Context Update Requirements
**Complete Memory-Bank Refresh**: All 8 files updated with current state
**Roadmap Synchronization**: Milestone progress and strategic alignment
**Knowledge Persistence**: Pattern storage for future reference
**Error Documentation**: Comprehensive mistake logging with resolution patterns
**Continuous Execution**: Automatic progression to next task without interruption

## Section 6: Constitutional Workflow Loop with Context Engineering

### Continuous Constitutional Execution Protocol (AUTOMATIC)
```
AUTO: Read memory-bank (8 files) + roadmap → 
AUTO: Retrieve knowledge (byterover-mcp) → 
AUTO: Validate compliance (laws + EMD) → 
AUTO: Implement with context awareness → 
AUTO: Update all 9 files (8 memory + 1 roadmap) → 
AUTO: Store knowledge (byterover-mcp) → 
AUTO: Verify checklist (all protocols) → 
AUTO: Continue to next task → 
REPEAT
```

### Workflow Best Practices
- **Never stop after one task**: Continuous autonomous execution until scratchpad empty
- **Complete scratchpad replacement**: Not append, full replacement with next priority
- **Entire memory-bank reading**: All 8 files before any update
- **Dynamic law integration**: Automatic discovery based on techContext.md
- **Roadmap-driven prioritization**: Strategic alignment for task selection
- **Automatic mistake logging**: Instant error documentation in mistakes.md
- **Constitutional validation**: Continuous compliance verification (≥80%)

## Section 7: Constitutional Enforcement with Tri-Branch Authority

### Violation Response Protocol
**1st Violation**: 
- Auto-generate WARNING message
- Mandatory correction through context7 MCP
- Document in mistakes.md with resolution pattern

**2nd Violation**: 
- Auto-ROLLBACK implementation to previous constitutional state
- Restart workflow from pre-implementation protocol
- Update systemPatterns.md with prevention measures

**3rd Violation**: 
- ESCALATE to human consultation (Level 100)
- Chief Justice review for constitutional interpretation
- Tri-branch consensus required for resolution

### Chief Justice Enforcement Authority
**Constitutional Monitoring**: Continuous validation of all AI operations
**Halt Authority**: Immediate stop of non-compliant operations
**Correction Protocols**: Mandatory compliance restoration procedures
**Precedent Establishment**: Constitutional interpretation for future reference

## Section 8: Self-Accountability Checklist with Context Validation

### Mandatory Verification (AUTO-VERIFY before task completion)
- [x] Read all 8 memory-bank files + roadmap - AUTOMATIC
- [x] Retrieved byterover-mcp knowledge (if authenticated) - AUTOMATIC
- [x] Validated constitutional laws from .windsurf/rules/laws/ - AUTOMATIC
- [x] Implemented with full context awareness - AUTOMATIC
- [x] Updated ALL 8 memory-bank files - AUTOMATIC
- [x] Updated roadmap/roadmap.md - AUTOMATIC
- [x] Stored knowledge via byterover-mcp (if authenticated) - AUTOMATIC
- [x] Verified EMD ≤80 lines - AUTOMATIC
- [x] Confirmed ≥80% constitutional adherence - AUTOMATIC

**IF ANY UNCHECKED → IMPLEMENTATION INCOMPLETE → AUTO-RETRY**

## Section 9: MCP Integration Requirements with Constitutional Standards

### Mandatory MCP Usage
**byterover-mcp**: 
- `retrieve-knowledge` before all constitutional tasks
- `store-knowledge` after all constitutional completion
- Pattern storage for constitutional compliance

**context7**: 
- `resolve-library-id` + `get-library-docs` for instant error resolution
- Official documentation retrieval for constitutional compliance
- Auto-fix implementation with constitutional validation

**Fetch**: External constitutional documentation and research
**Git**: Constitutional version control with change tracking
**Memory**: Constitutional knowledge graph for tri-branch relationships
**Sequential Thinking**: Complex constitutional problem analysis

### MCP Integration Authority
**Mandatory Usage**: All error resolution must use context7 MCP
**Knowledge Management**: Automatic byterover-mcp integration for pattern storage
**Constitutional Compliance**: All MCP operations subject to tri-branch validation

## Section 10: Constitutional Compliance Summary

### Implementation Status
**Status**: RATIFIED 2025-09-30 - ACTIVE and BINDING
**Enforcement**: Immediate and mandatory for all AI operations
**Autonomy**: 98% (0-98=Auto-Execute, 99=Document+Execute, 100=Human)
**Result**: Fully automatic constitutional compliance across all operations

### Key Constitutional Changes
1. Pre-implementation protocol now AUTOMATIC (0-98%)
2. Post-implementation protocol now AUTOMATIC (0-98%)
3. Memory-bank updates now AUTOMATIC after every task
4. Next task continuation now AUTOMATIC without asking
5. Constitutional compliance verification now AUTOMATIC
6. Self-accountability checklist now AUTO-VERIFIED

### Constitutional Authority
**Context Operations**: All operations subject to complete memory-bank context integration and tri-branch validation
**MCP Integration**: Mandatory context7, byterover-mcp usage for error resolution and knowledge management
**Cross-Platform Compliance**: All operations maintain cross-platform terminal safety with constitutional context integration
**Tri-Branch Oversight**: Executive, Legislative, Judicial validation required for all constitutional processes

This constitutional compliance framework ensures 98% autonomous efficiency while maintaining rigorous constitutional standards, context engineering compliance, tri-branch oversight, and continuous constitutional improvement through structured memory-bank integration and mandatory MCP usage for all AI agent operations.